package main

import "fmt"
var data []int = []int{1,2,3,4,5}

func writeToChan(writeChan chan <- int){
	defer close(writeChan)
	for i := range data{
		writeChan <- i
	}

}

func main() {
	handleData := make(chan int)
	go writeToChan(handleData)

	for integer := range handleData{
		fmt.Println(integer)
	}
}

// æ‹˜æŸâ†’ãƒ‡ãƒ¼ã‚¿ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ç¯„å›²ã‚’ç¸›ã‚‹ã‚‚ã®
// func writeToChan(writeChan chan <- int){ ã¯ã€intåž‹ã®å€¤ã‚’é€ä¿¡ã§ãã‚‹ãƒãƒ£ãƒ³ãƒãƒ«
// ã¤ã¾ã‚Šæ›¸ãè¾¼ã¿å°‚ç”¨ãƒãƒ£ãƒãƒ«ã¨ã—ã¦å¼•æ•°ã§å—ã‘å–ã£ã¦ã„ã‚‹
// âœ… writeChan <- 42 â† ã“ã‚Œã¯ ã§ãã‚‹
// âŒ <-writeChan â† ã“ã‚Œã¯ã§ããªã„ï¼ˆå—ä¿¡ã¯ç¦æ­¢)




// ðŸ§  ä½•ã®ãŸã‚ã«åˆ¶é™ã™ã‚‹ã®ï¼Ÿ
// Go ã®è‰¯ã„è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã€ã€Œé–¢æ•°ã«ä½™è¨ˆãªæ¨©é™ã‚’ä¸Žãˆãªã„ã€ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
// ä¾‹ãˆã°ï¼š
// go
// func sendData(ch chan<- int) {
//     ch <- 1 // âœ… OK: æ›¸ãè¾¼ã¿
//     x := <-ch // âŒ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼ˆèª­ã¿è¾¼ã¿ã¯ç¦æ­¢ï¼‰
// }
// ã“ã‚Œã¯ã€Œã“ã®é–¢æ•°ã¯æ›¸ãè¾¼ã‚€ã ã‘ã®å½¹å‰²ãªã‚“ã ã‹ã‚‰ã€å—ä¿¡ã§ãã¡ã‚ƒãƒ€ãƒ¡ã§ã—ã‚‡ï¼Ÿã€ã¨ æ˜Žç¤ºã™ã‚‹ãŸã‚ã®åˆ¶é™ã€‚


// ðŸ”„ é€†ã«èª­ã¿å–ã‚Šå°‚ç”¨ã«ã—ãŸã„ãªã‚‰ï¼Ÿ
// func readFromChan(ch <-chan int)
// ã“ã‚Œã¯ã€Œch ã¯èª­ã¿å–ã‚Šå°‚ç”¨ãƒãƒ£ãƒãƒ«ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚
// âœ… x := <-ch ã¯ã§ãã‚‹
// âŒ ch <- 1 ã¯ã§ããªã„


// 1. é–¢æ•°ã®è²¬ä»»ãŒæ˜Žç¢ºã«ãªã‚‹ï¼ˆå‰¯ä½œç”¨ã‚’æ¸›ã‚‰ã™ï¼‰
// ä¾‹ï¼šfunc writeToChan(ch chan<- int) ã¯ã€ã€Œã“ã®é–¢æ•°ã¯é€ä¿¡ã—ã‹ã—ã¾ã›ã‚“ã€ã¨æ˜Žç¤ºã—ã¦ã„ã‚‹ã€‚
// èª­ã¿å–ã‚Šã®æ“ä½œã‚’ãã‚‚ãã‚‚ã§ããªãã™ã‚‹ã“ã¨ã§ã€é–¢æ•°ã®å½¹å‰²ã‚„è²¬å‹™ãŒæ˜Žç¢ºã«ãªã‚‹ã€‚
// ðŸ“Œ çµæžœçš„ã«ã€å‰¯ä½œç”¨ã®å°‘ãªã„é–¢æ•°ãŒæ›¸ã‘ã‚‹

// 2. ãƒŸã‚¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºã§ãã‚‹
// é–¢æ•°ãŒé€ä¿¡ç”¨ã®ãƒãƒ£ãƒãƒ«ã‚’å—ã‘å–ã‚‹å ´åˆã€ã†ã£ã‹ã‚Š x := <-ch ã¿ãŸã„ã«èª­ã‚‚ã†ã¨ã—ãŸã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚
// ðŸ“Œ å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã˜ã‚ƒãªãã€æ—©ã„æ®µéšŽã§é˜²ã’ã‚‹ = ãƒã‚°ãŒæ¸›ã‚‹ã€‚

// 3. ä¸¦è¡Œè¨­è¨ˆã®æ„å›³ãŒã‚ˆã‚Šæ˜Žç¢ºã«ä¼ã‚ã‚‹
// ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã‚‹ã ã‘ã§ã€ã€Œã“ã®é–¢æ•°ã¯é€ã‚‹ã ã‘ã€ã€Œã“ã®é–¢æ•°ã¯èª­ã‚€ã ã‘ã€ã¨ã‚ã‹ã‚‹ã€‚
// ç‰¹ã«å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„ãƒãƒ¼ãƒ é–‹ç™ºã§æ„å›³ãŒã‚³ãƒ¼ãƒ‰ã«ç¾ã‚Œã‚‹ã®ã¯éžå¸¸ã«é‡è¦ã€‚
// ðŸ“Œ ã‚³ãƒ¡ãƒ³ãƒˆã‚ˆã‚Šã‚‚ä¿¡é ¼æ€§ã®ã‚ã‚‹ã€Œæ˜Žæ–‡åŒ–ã•ã‚ŒãŸè¨­è¨ˆæ„å›³ã€ã«ãªã‚‹ã€‚

